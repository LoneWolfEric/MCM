x=[1028.371654        959.1841538        956.84571        27.10416667        27.37333333        25.75
959.1841538        956.84571        939.7041246        27.37333333        25.75        25.65833333
956.84571        939.7041246        886.8804196        25.75        25.65833333        25.5925
939.7041246        886.8804196        810.1564075        25.65833333        25.5925        25.26833333
886.8804196        810.1564075        766.6538244        25.5925        25.26833333        25.13333333
810.1564075        766.6538244        777.3155086        25.26833333        25.13333333        25.34166667
766.6538244        777.3155086        708.5305564        25.13333333        25.34166667        25.54
777.3155086        708.5305564        1138.258526        25.34166667        25.54        30.63083333
708.5305564        1138.258526        1151.379901        25.54        30.63083333        30.7125
1138.258526        1151.379901        1156.958557        30.63083333        30.7125        30.675
1151.379901        1156.958557        1171.215125        30.7125        30.675        30.82583333
1156.958557        1171.215125        1161.593226        30.675        30.82583333        30.4975
1171.215125        1161.593226        781.6023678        30.82583333        30.4975        27.84666667
1161.593226        781.6023678        612.17396        30.4975        27.84666667        27.275
781.6023678        612.17396        609.070022        27.84666667        27.275        27.70583333
612.17396        609.070022        607.4263711        27.275        27.70583333        27.85666667
609.070022        607.4263711        640.2421636        27.70583333        27.85666667        27.845
607.4263711        640.2421636        1392.781029        27.85666667        27.845        25.93416667
640.2421636        1392.781029        748.9545634        27.845        25.93416667        25.955
1392.781029        748.9545634        1165.295812        25.93416667        25.955        25.98916667
748.9545634        1165.295812        1129.890453        25.955        25.98916667        26.02833333
1165.295812        1129.890453        1088.605079        25.98916667        26.02833333        26.0625
1129.890453        1088.605079        1069.821424        26.02833333        26.0625        26.09
1088.605079        1069.821424        1094.441434        26.0625        26.09        26.11083333
1069.821424        1094.441434        1147.30122        26.09        26.11083333        26.12666667
1094.441434        1147.30122        1182.625624        26.11083333        26.12666667        26.135
1147.30122        1182.625624        1171.851114        26.12666667        26.135        26.13571429
1182.625624        1171.851114        1416.323402        26.135        26.13571429        30.79583333
1171.851114        1416.323402        1402.490374        26.13571429        30.79583333        31.24333333
1416.323402        1402.490374        1425.07512        30.79583333        31.24333333        31.48083333
1402.490374        1425.07512        1417.48991        31.24333333        31.48083333        31.49416667
1425.07512        1417.48991        1410.82007        31.48083333        31.49416667        31.30583333
1417.48991        1410.82007        1395.041333        31.49416667        31.30583333        31.01666667
1410.82007        1395.041333        1402.41428        31.30583333        31.01666667        30.90833333
1395.041333        1402.41428        1402.16707        31.01666667        30.90833333        31.065
1402.41428        1402.16707        1402.479577        30.90833333        31.065        30.98166667
1402.16707        1402.479577        1398.284501        31.065        30.98166667        31.04
1402.479577        1398.284501        1786.600513        30.98166667        31.04        28.44111111
1398.284501        1786.600513        1022.58609        31.04        28.44111111        29.78083333
1786.600513        1022.58609        794.9068274        28.44111111        29.78083333        28.47833333
1022.58609        794.9068274        670.7098925        29.78083333        28.47833333        27.8975
794.9068274        670.7098925        1347.161576        28.47833333        27.8975        27.39666667
670.7098925        1347.161576        1514.301902        27.8975        27.39666667        26.55916667
1347.161576        1514.301902        1556.678165        27.39666667        26.55916667        28.49166667
1514.301902        1556.678165        1689.186937        26.55916667        28.49166667        29.2575
1556.678165        1689.186937        1650.380243        28.49166667        29.2575        29.44666667
1689.186937        1650.380243        1626.521117        29.2575        29.44666667        29.22571429
1650.380243        1626.521117        1508.872806        29.44666667        29.22571429        28.43333333
1626.521117        1508.872806        1526.508911        29.22571429        28.43333333        27.91916667
1508.872806        1526.508911        1653.658951        28.43333333        27.91916667        28.00333333
1526.508911        1653.658951        1665.527551        27.91916667        28.00333333        28.405
1653.658951        1665.527551        1664.722489        28.00333333        28.405        28.37833333
1665.527551        1664.722489        1633.289333        28.405        28.37833333        28.59083333
1664.722489        1633.289333        1644.415188        28.37833333        28.59083333        28.68166667
1633.289333        1644.415188        1664.797147        28.59083333        28.68166667        28.80333333
1644.415188        1664.797147        1673.686013        28.68166667        28.80333333        28.8575
1664.797147        1673.686013        1627.213411        28.80333333        28.8575        28.97166667
1673.686013        1627.213411        2499.805708        28.8575        28.97166667        30.03083333
1627.213411        2499.805708        1835.908291        28.97166667        30.03083333        29.01666667
2499.805708        1835.908291        1970.353867        30.03083333        29.01666667        29.38416667
1835.908291        1970.353867        1896.792688        29.01666667        29.38416667        29.44333333
1970.353867        1896.792688        697.6351053        29.38416667        29.44333333        29.46083333
1896.792688        697.6351053        672.9046116        29.44333333        29.46083333        30.67545455
697.6351053        672.9046116        545.8299657        29.46083333        30.67545455        31.72583333
672.9046116        545.8299657        576.4885672        30.67545455        31.72583333        30.12166667
545.8299657        576.4885672        574.3578818        31.72583333        30.12166667        29.84
576.4885672        574.3578818        586.4742195        30.12166667        29.84        29.82166667
574.3578818        586.4742195        1468.855021        29.84        29.82166667        31.37333333
586.4742195        1468.855021        886.6352393        29.82166667        31.37333333        31.66083333
2699.797085        2583.04259        2552.74549        32.11583333        32.07916667        32.22666667
2583.04259        2552.74549        2297.956451        32.07916667        32.22666667        31.74
2552.74549        2297.956451        2176.422161        32.22666667        31.74        31.00333333
2297.956451        2176.422161        2057.532399        31.74        31.00333333        30.6125
2176.422161        2057.532399        2176.500701        31.00333333        30.6125        30.5925
2057.532399        2176.500701        2385.168589        30.6125        30.5925        30.54916667
2176.500701        2385.168589        2369.154109        30.5925        30.54916667        30.68
2385.168589        2369.154109        2094.301853        30.54916667        30.68        30.69833333
2369.154109        2094.301853        2510.571627        30.68        30.69833333        30.09
2094.301853        2510.571627        2362.31383        30.69833333        30.09        30.00916667
2510.571627        2362.31383        2367.871701        30.09        30.00916667        29.88166667
2362.31383        2367.871701        2249.666409        30.00916667        29.88166667        29.3275
2367.871701        2249.666409        2059.333555        29.88166667        29.3275        29.79416667
2249.666409        2059.333555        1926.228167        29.3275        29.79416667        29.465
2059.333555        1926.228167        2037.977193        29.79416667        29.465        29.075
1926.228167        2037.977193        2127.439716        29.465        29.075        29.00666667
2037.977193        2127.439716        1648.714024        29.075        29.00666667        28.13384615
2127.439716        1648.714024        1561.640429        29.00666667        28.13384615        27.43
1648.714024        1561.640429        2292.351138        28.13384615        27.43        29.8
1561.640429        2292.351138        2112.7879        27.43        29.8        29.45333333
2292.351138        2112.7879        2163.402464        29.8        29.45333333        29.59416667
2112.7879        2163.402464        2050.27454        29.45333333        29.59416667        28.83583333
2163.402464        2050.27454        1933.826947        29.59416667        28.83583333        29.32
2050.27454        1933.826947        1804.186918        28.83583333        29.32        29.26
1933.826947        1804.186918        1703.58851        29.32        29.26        28.29583333
1804.186918        1703.58851        1256.163552        29.26        28.29583333        26.845
1703.58851        1256.163552        1479.70762        28.29583333        26.845        27.1875
1256.163552        1479.70762        1518.980446        26.845        27.1875        27.29
1479.70762        1518.980446        2616.011448        27.1875        27.29        27.82666667
1518.980446        2616.011448        1802.886167        27.29        27.82666667        28.23583333
2616.011448        1802.886167        1728.592329        27.82666667        28.23583333        27.93166667
1802.886167        1728.592329        1091.740875        28.23583333        27.93166667        27.80833333
1728.592329        1091.740875        1535.095214        27.93166667        27.80833333        28.12083333
1091.740875        1535.095214        2023.706186        27.80833333        28.12083333        29.90916667
1535.095214        2023.706186        1959.425668        28.12083333        29.90916667        29.53333333
2023.706186        1959.425668        1971.848453        29.90916667        29.53333333        29.22083333
1959.425668        1971.848453        2120.959504        29.53333333        29.22083333        29.8575
1971.848453        2120.959504        1704.870338        29.22083333        29.8575        29.83583333
2120.959504        1704.870338        1313.671485        29.8575        29.83583333        28.65333333
1704.870338        1313.671485        1858.197254        29.83583333        28.65333333        29.04
1313.671485        1858.197254        1961.828444        28.65333333        29.04        29.22083333
1858.197254        1961.828444        2116.620446        29.04        29.22083333        29.8575
1961.828444        2116.620446        1817.866018        29.22083333        29.8575        29.83583333
2116.620446        1817.866018        1433.93257        29.8575        29.83583333        28.67571429
1817.866018        1433.93257        2285.964682        29.83583333        28.67571429        30.16666667
1433.93257        2285.964682        2205.521073        28.67571429        30.16666667        29.82583333
2285.964682        2205.521073        1919.215912        30.16666667        29.82583333        29.94583333
2205.521073        1919.215912        1979.44367        29.82583333        29.94583333        30.2
1919.215912        1979.44367        1843.382092        29.94583333        30.2        30.07666667
1979.44367        1843.382092        2247.560871        30.2        30.07666667        30.06416667
1843.382092        2247.560871        1873.134762        30.07666667        30.06416667        30.08333333
2247.560871        1873.134762        1875.413956        30.06416667        30.08333333        29.91416667
1873.134762        1875.413956        2003.6789        30.08333333        29.91416667        29.61833333
1875.413956        2003.6789        1952.953007        29.91416667        29.61833333        29.5
2003.6789        1952.953007        1043.986635        29.61833333        29.5        29.5
1952.953007        1043.986635        1338.110741        29.5        29.5        28.38181818
1043.986635        1338.110741        1750.614398        29.5        28.38181818        32.73416667
1338.110741        1750.614398        1871.176146        28.38181818        32.73416667        29.23666667
1750.614398        1871.176146        1395.290968        32.73416667        29.23666667        26.24
1871.176146        1395.290968        1431.744263        29.23666667        26.24        26.42583333
1395.290968        1431.744263        1429.275226        26.24        26.42583333        26.6325
1431.744263        1429.275226        1430.361559        26.42583333        26.6325        26.7375
1429.275226        1430.361559        1396.361311        26.6325        26.7375        26.875
1430.361559        1396.361311        1331.847452        26.7375        26.875        27.03583333
1396.361311        1331.847452        1272.224547        26.875        27.03583333        26.955
1331.847452        1272.224547        1280.220597        27.03583333        26.955        26.98
1272.224547        1280.220597        2584.189937        26.955        26.98        29.832
1280.220597        2584.189937        2465.185495        26.98        29.832        30.63583333
2584.189937        2465.185495        2337.469502        29.832        30.63583333        30.35583333
2465.185495        2337.469502        2323.709064        30.63583333        30.35583333        30.52166667
2337.469502        2323.709064        2333.949913        30.35583333        30.52166667        30.74416667
2323.709064        2333.949913        2319.830043        30.52166667        30.74416667        30.81416667
2333.949913        2319.830043        2108.15023        30.74416667        30.81416667        30.57666667
2319.830043        2108.15023        1572.099018        30.81416667        30.57666667        29.37333333
2108.15023        1572.099018        1747.790212        30.57666667        29.37333333        28.59916667
1572.099018        1747.790212        1894.641548        29.37333333        28.59916667        28.61666667
1747.790212        1894.641548        1842.296674        28.59916667        28.61666667        28.67666667
1894.641548        1842.296674        1083.39741        28.61666667        28.67666667        29.352
1842.296674        1083.39741        961.740923        28.67666667        29.352        30.12416667
1083.39741        961.740923        911.5714507        29.352        30.12416667        29.93166667
961.740923        911.5714507        847.9055651        30.12416667        29.93166667        29.76
911.5714507        847.9055651        861.7889418        29.93166667        29.76        29.855
847.9055651        861.7889418        846.3753926        29.76        29.855        29.98833333
861.7889418        846.3753926        832.8252524        29.855        29.98833333        30.09166667
846.3753926        832.8252524        771.9408473        29.98833333        30.09166667        29.97083333
832.8252524        771.9408473        818.2735089        30.09166667        29.97083333        29.66916667
771.9408473        818.2735089        764.7561174        29.97083333        29.66916667        29.16
818.2735089        764.7561174        734.777984        29.66916667        29.16        28.10833333
764.7561174        734.777984        2463.54149        29.16        28.10833333        29.61636364
734.777984        2463.54149        2226.329897        28.10833333        29.61636364        29.85
2463.54149        2226.329897        2204.032365        29.61636364        29.85        29.60833333
2226.329897        2204.032365        2119.208768        29.85        29.60833333        29.60083333
2204.032365        2119.208768        1697.082568        29.60833333        29.60083333        29.21166667
2119.208768        1697.082568        1674.809387        29.60083333        29.21166667        29.35166667
1697.082568        1674.809387        1656.671669        29.21166667        29.35166667        29.3075
1674.809387        1656.671669        1699.927578        29.35166667        29.3075        29.15583333
1656.671669        1699.927578        1745.430376        29.3075        29.15583333        29.31416667
1699.927578        1745.430376        1772.569657        29.15583333        29.31416667        29.315
1745.430376        1772.569657        1786.693828        29.31416667        29.315        33.34916667
1772.569657        1786.693828        2207.282007        29.315        33.34916667        34.1575
1786.693828        2207.282007        2341.178071        33.34916667        34.1575        34.0725
2207.282007        2341.178071        2294.047058        34.1575        34.0725        33.9175
2341.178071        2294.047058        2233.741453        34.0725        33.9175        33.57416667
2294.047058        2233.741453        2106.501031        33.9175        33.57416667        33.32583333
2233.741453        2106.501031        1898.488567        33.57416667        33.32583333        32.82916667
2106.501031        1898.488567        2072.230095        33.32583333        32.82916667        32.745
1898.488567        2072.230095        1996.396274        32.82916667        32.745        32.66166667
2072.230095        1996.396274        1824.257765        32.745        32.66166667        32.55583333
1996.396274        1824.257765        2473.683995        32.66166667        32.55583333        29.76833333
1824.257765        2473.683995        2410.234825        32.55583333        29.76833333        30.135
2473.683995        2410.234825        2091.346487        29.76833333        30.135        29.50833333
2410.234825        2091.346487        2207.780774        30.135        29.50833333        29.52916667
2091.346487        2207.780774        1979.775708        29.50833333        29.52916667        29.61166667
2207.780774        1979.775708        1891.914525        29.52916667        29.61166667        29.74583333
1979.775708        1891.914525        1862.9024        29.61166667        29.74583333        29.63333333
1891.914525        1862.9024        1888.482779        29.74583333        29.63333333        29.83833333
1862.9024        1888.482779        1921.714952        29.63333333        29.83833333        30.54083333
1888.482779        1921.714952        1947.7835        29.83833333        30.54083333        30.3425
1921.714952        1947.7835        1917.475012        30.54083333        30.3425        29.89083333
1947.7835        1917.475012        2722.565495        30.3425        29.89083333        28.42818182
1917.475012        2722.565495        2626.925489        29.89083333        28.42818182        29.12416667
2722.565495        2626.925489        2228.672572        28.42818182        29.12416667        28.69
2626.925489        2228.672572        2275.036348        29.12416667        28.69        28.76083333
2228.672572        2275.036348        2035.530608        28.69        28.76083333        28.45833333
2275.036348        2035.530608        1917.744953        28.76083333        28.45833333        28.3425
2035.530608        1917.744953        1692.782221        28.45833333        28.3425        28.44083333
1917.744953        1692.782221        1781.876525        28.3425        28.44083333        28.93
1692.782221        1781.876525        1725.760549        28.44083333        28.93        29.43666667
]
y = [939.7041246
886.8804196
810.1564075
766.6538244
777.3155086
708.5305564
1138.258526
1151.379901
1156.958557
1171.215125
1161.593226
781.6023678
612.17396
609.070022
607.4263711
640.2421636
1392.781029
748.9545634
1165.295812
1129.890453
1088.605079
1069.821424
1094.441434
1147.30122
1182.625624
1171.851114
1416.323402
1402.490374
1425.07512
1417.48991
1410.82007
1395.041333
1402.41428
1402.16707
1402.479577
1398.284501
1786.600513
1022.58609
794.9068274
670.7098925
1347.161576
1514.301902
1556.678165
1689.186937
1650.380243
1626.521117
1508.872806
1526.508911
1653.658951
1665.527551
1664.722489
1633.289333
1644.415188
1664.797147
1673.686013
1627.213411
2499.805708
1835.908291
1970.353867
1896.792688
697.6351053
672.9046116
545.8299657
576.4885672
574.3578818
586.4742195
1468.855021
886.6352393
754.8599557
2297.956451
2176.422161
2057.532399
2176.500701
2385.168589
2369.154109
2094.301853
2510.571627
2362.31383
2367.871701
2249.666409
2059.333555
1926.228167
2037.977193
2127.439716
1648.714024
1561.640429
2292.351138
2112.7879
2163.402464
2050.27454
1933.826947
1804.186918
1703.58851
1256.163552
1479.70762
1518.980446
2616.011448
1802.886167
1728.592329
1091.740875
1535.095214
2023.706186
1959.425668
1971.848453
2120.959504
1704.870338
1313.671485
1858.197254
1961.828444
2116.620446
1817.866018
1433.93257
2285.964682
2205.521073
1919.215912
1979.44367
1843.382092
2247.560871
1873.134762
1875.413956
2003.6789
1952.953007
1043.986635
1338.110741
1750.614398
1871.176146
1395.290968
1431.744263
1429.275226
1430.361559
1396.361311
1331.847452
1272.224547
1280.220597
2584.189937
2465.185495
2337.469502
2323.709064
2333.949913
2319.830043
2108.15023
1572.099018
1747.790212
1894.641548
1842.296674
1083.39741
961.740923
911.5714507
847.9055651
861.7889418
846.3753926
832.8252524
771.9408473
818.2735089
764.7561174
734.777984
2463.54149
2226.329897
2204.032365
2119.208768
1697.082568
1674.809387
1656.671669
1699.927578
1745.430376
1772.569657
1786.693828
2207.282007
2341.178071
2294.047058
2233.741453
2106.501031
1898.488567
2072.230095
1996.396274
1824.257765
2473.683995
2410.234825
2091.346487
2207.780774
1979.775708
1891.914525
1862.9024
1888.482779
1921.714952
1947.7835
1917.475012
2722.565495
2626.925489
2228.672572
2275.036348
2035.530608
1917.744953
1692.782221
1781.876525
1725.760549
1787.929433];
Xdata=mapminmax(x')';   %按照行归一化[-1 1]
Ydata=mapminmax(y')';
[M,N]=size(x);
X_train=Xdata(1:round(3*M/4),:);X_test=Xdata(round(3*M/4)+1:M,:);
Y_train=Ydata(1:round(3*M/4),:);Y_test=Ydata(round(3*M/4)+1:M,:);
[mse,bestc,bestg] = SVMcgForRegress(Y_train,X_train);%参数寻优    % bestc=3.0314   bestg=0.0118
% 回归模型
str = ['-s 3 -t 2 -c ',num2str(bestc),' -g ',num2str(bestg),' -p 0.01'];
model = svmtrain(Y_train,X_train,str);
% 模型预测
[py,mse] = svmpredict(Y_test,X_test,model);  
% 返归一化
miny=min(y);maxy=max(y);
py=postmnmx(py,miny,maxy);
% 显示预测结果
Y_test=y(round(3*M/4)+1:M,:);  % 原始数据

plot(1:length(py),Y_test,'o'); 
hold on
plot(1:length(py),py); % 预测数据
hold off
Y_test=y(round(3*M/4)+1:M,:);  % 原始数据
plot(1:length(py),Y_test,'o'); 
hold on
plot(1:length(py),py); % 预测数据
hold off
Y_test=y(round(3*M/4)+1:M,:);  % 原始数据
plot(1:length(py),Y_test,'o'); 
hold on
plot(1:length(py),py); % 预测数据